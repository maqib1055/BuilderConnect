(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9100],{91428:function(e,t,n){Promise.resolve().then(n.t.bind(n,231,23)),Promise.resolve().then(n.bind(n,68195)),Promise.resolve().then(n.bind(n,89735)),Promise.resolve().then(n.bind(n,95401)),Promise.resolve().then(n.bind(n,47579)),Promise.resolve().then(n.bind(n,43309)),Promise.resolve().then(n.bind(n,89856)),Promise.resolve().then(n.bind(n,74701))},2053:function(e,t,n){"use strict";var i,l;n.d(t,{d:function(){return i}}),(l=i||(i={})).SIGN_UP="sign-up",l.SIGN_IN="sign-in"},1576:function(e,t,n){"use strict";var i,l;n.d(t,{R:function(){return i}}),(l=i||(i={})).SESSION_ID="sessionId",l.TOKEN="token",l.REFRESH_TOKEN="refreshToken",l.TOKEN_EXPIRES_IN="tokenExpiresIn"},73359:function(e,t,n){"use strict";var i,l;n.d(t,{u:function(){return i}}),(l=i||(i={})).REDIRECT="redirect",l.TOKEN="token",l.PRODUCT="product",l.PRICE_ID="priceId",l.QUANTITY="quantity",l.OPEN="open",l.EMAIL="email",l.GENERATE="generate",l.IS_SIGN_UP="isSignUp",l.IDEATE_TEMPLATE_ID="templateId"},31708:function(e,t,n){"use strict";n.d(t,{a:function(){return g}});var i=n(16463),l=n(2265),o=n(63218),r=n(45019),s=n(18741),a=n(5672),c=n(18617),d=n(82074),u=n(81750),m=n(36805);let g=()=>{let e=(0,i.useRouter)(),t=(0,a.TI)(e=>e.resetCollectionStore),n=(0,c.IJ)(e=>e.resetCollectionStore),g=(0,s.m)(e=>e.resetChangePlanStoreStore),f=(0,d.p)(e=>e.resetPersistToolSettingStore),p=(0,u.m8)()(e=>e.logoutUser);return(0,l.useCallback)(()=>{(0,r.kS)().catch(()=>{});try{p(),t(),n(),g(),f(),(0,m.J5)()}catch(e){}e.push(o.H7.AUTH),e.refresh()},[p,g,t,n,f,e])}},31941:function(e,t,n){"use strict";n.d(t,{KK:function(){return p},N2:function(){return u},Yy:function(){return f},me:function(){return v},pm:function(){return m},z$:function(){return d}});var i=n(57437),l=n(79219),o=n(12218),r=n(2265),s=n(8792),a=n(24528),c=n(84343);let d=l.fC,u=()=>(0,i.jsx)(s.XC,{className:"h-5 w-5 rotate-90 transform stroke-[1.5] text-neutral-400 transition-all duration-500 group-data-[state=open]:-rotate-90 dark:text-neutral-40 [.sm_&]:h-[18px] [.sm_&]:w-[18px]"}),m=r.forwardRef((e,t)=>{let{className:n,lightVariant:o,darkVariant:r,size:s,children:d,...u}=e;return(0,i.jsx)(l.xz,{ref:t,className:(0,a.cn)("popover-trigger-base group",(0,c.j)({className:n,lightVariant:o,darkVariant:r,size:s})),...u,children:d})});m.displayName=l.xz.displayName;let g=(0,o.j)("popover-content-base w-full rounded-lg border border-neutral-30  dark:border-neutral-600 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",{variants:{size:{sm:"sm",md:"md"},position:{popover:"min-w-[var(--radix-dropdown-menu-trigger-width)]","item-aligned":"aligned"}},defaultVariants:{size:"md",position:"popover"}}),f=r.forwardRef((e,t)=>{let{className:n,size:o,position:r,sideOffset:s=4,...a}=e;return(0,i.jsx)(l.Uv,{children:(0,i.jsx)(l.VY,{ref:t,sideOffset:s,className:g({className:n,size:o,position:r}),...a})})});f.displayName=l.VY.displayName;let p=r.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,i.jsx)(l.ck,{ref:t,className:(0,a.cn)("flex w-full cursor-pointer select-none items-center justify-between bg-neutral-0 px-3.5 py-2.5 text-sm text-neutral-900 outline-none transition-all duration-500 hover:bg-neutral-20 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:bg-neutral-700 dark:text-neutral-0 dark:hover:bg-neutral-600 dark:data-[disabled]:opacity-30 [.sm_&]:px-[7px] [.sm_&]:py-2.5 [.sm_&]:text-xs",n),...o})});p.displayName=l.ck.displayName;let v=r.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,i.jsx)(l.Z0,{ref:t,className:(0,a.cn)("m-0 h-px bg-neutral-40 dark:bg-neutral-600",n),...o})});v.displayName=l.Z0.displayName,l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef((e,t)=>{let{className:n,inset:o,children:r,...c}=e;return(0,i.jsxs)(l.fF,{ref:t,className:(0,a.cn)("focus:bg-accent data-[state=open]:bg-accent flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none",o&&"pl-8",n),...c,children:[r,(0,i.jsx)(s.XC,{className:"ml-auto h-4 w-4"})]})}).displayName=l.fF.displayName,r.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,i.jsx)(l.tu,{ref:t,className:(0,a.cn)("bg-popover text-popover-foreground z-50 min-w-[8rem] overflow-hidden rounded-md border p-1 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...o})}).displayName=l.tu.displayName,r.forwardRef((e,t)=>{let{className:n,children:o,checked:r,...c}=e;return(0,i.jsxs)(l.oC,{ref:t,className:(0,a.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:r,...c,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(l.wU,{children:(0,i.jsx)(s.Ye,{className:"h-4 w-4"})})}),o]})}).displayName=l.oC.displayName,r.forwardRef((e,t)=>{let{className:n,children:o,...r}=e;return(0,i.jsxs)(l.Rk,{ref:t,className:(0,a.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...r,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(l.wU,{})}),o]})}).displayName=l.Rk.displayName,r.forwardRef((e,t)=>{let{className:n,inset:o,...r}=e;return(0,i.jsx)(l.__,{ref:t,className:(0,a.cn)("px-2 py-1.5 text-sm font-semibold",o&&"pl-8",n),...r})}).displayName=l.__.displayName},47579:function(e,t,n){"use strict";n.d(t,{ProfileMenu:function(){return g}});var i=n(57437),l=n(16463),o=n(80732),r=n(88318),s=n(31708),a=n(85951),c=n(81750),d=n(47802),u=n(14125),m=n(31941);let g=()=>{var e,t,n;let g=(0,c.m8)()(e=>e.user),f=(0,s.a)(),p=(0,c.m8)()(e=>e.subscription),{stripeSubscription:v}=(0,u.L)(p),h=(0,u.L)(p),I=null==v?void 0:null===(t=v.StripePrice)||void 0===t?void 0:null===(e=t.StripeProduct)||void 0===e?void 0:e.name,x=null==v?void 0:null===(n=v.StripePrice)||void 0===n?void 0:n.billingInterval,N=h.isSubscriptionActive?"Premium":"Free",{aggregator:b}=(0,a.O)(),S=(0,l.usePathname)(),E=async()=>{try{b.log(o.H.mixpanel.logout_completed.withProperties({signup_channel:"Web",email:null==g?void 0:g.email,distinct_id:null==g?void 0:g.id,user_account_status:N,user_plan:I,user_plan_period:x,page_name:r.I[S]}))}catch(e){}finally{f()}};return g?(0,i.jsxs)(m.z$,{children:[(0,i.jsxs)(m.pm,{size:"xl",lightVariant:"light-v2",className:"h-14",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("div",{className:"grid size-8 place-items-center rounded-full border border-error-500 bg-error-500 bg-opacity-30 transition-all duration-500",children:(0,i.jsx)("span",{className:"text-xs uppercase text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:(0,d.fo)(g.name)})}),(0,i.jsx)("span",{className:"text-sm capitalize text-neutral-900 transition-all duration-500 dark:text-neutral-0",children:g.name})]}),(0,i.jsx)(m.N2,{})]}),(0,i.jsx)(m.Yy,{children:(0,i.jsx)(m.KK,{onClick:E,children:(0,i.jsx)("span",{className:"text-error-500 dark:text-error-400",children:"Sign Out"})})})]}):null}},85590:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});let i="group flex h-11 w-full items-center justify-start rounded-xl py-3 px-2.5 text-neutral-600 duration-500 hover:bg-neutral-20 dark:text-neutral-60 dark:hover:bg-neutral-700"},43309:function(e,t,n){"use strict";n.d(t,{SideNavItemButton:function(){return a}});var i=n(57437),l=n(81750),o=n(43664),r=n(53574),s=n(85590);let a=e=>{let{children:t,event_id:n,sib_id:a,...c}=e,d=(0,l.m8)()(e=>e.user);return(0,i.jsx)("button",{type:"button",onClick:()=>{var e;o.c.triggerEventUsingElementId(n),a&&(0,r.iC)(a,null!==(e=null==d?void 0:d.email)&&void 0!==e?e:"")},className:"cursor-pointer ".concat(s.r),...c,children:t})}},89856:function(e,t,n){"use strict";n.d(t,{SideNavItemLink:function(){return m}});var i=n(57437),l=n(87138),o=n(16463),r=n(81750),s=n(43664),a=n(11567),c=n(53574),d=n(24528),u=n(85590);let m=e=>{let{event_id:t,sib_id:n,exact:m,...g}=e,f=(0,o.usePathname)(),p=(0,a.default)(f,g.href.toString(),m),v=(0,r.m8)()(e=>e.user);return(0,i.jsx)(l.default,{onClick:()=>{var e;s.c.triggerEventUsingElementId(t),n&&(0,c.iC)(n,null!==(e=null==v?void 0:v.email)&&void 0!==e?e:"")},className:(0,d.cn)(u.r,{"active bg-neutral-20 text-neutral-900 dark:bg-neutral-700 dark:text-neutral-0":p}),...g})}},74701:function(e,t,n){"use strict";n.d(t,{TopNavConditionalWrapper:function(){return x}});var i=n(57437),l=n(16463),o=n(63218),r=n(87138),s=n(64818),a=n(54362),c=n(76111),d=n(12536),u=n(13495),m=n(32994),g=n(81750),f=n(14125),p=n(81149);let v={[o.H7.DASHBOARD]:"Explore Tools",[o.H7.MINI_APPS]:"Mini Apps",[o.H7.IDEATE_DASHBOARD]:"Ideate"},h=()=>{var e;let t=(0,l.usePathname)(),n=(0,g.m8)()(e=>e.user),h=(0,g.m8)()(e=>e.subscription),{isSubscriptionActive:I}=(0,f.L)(h);return(0,i.jsxs)(m.j.Root,{className:"flex w-full justify-between pr-4",children:[(0,i.jsx)(m.j.Item,{className:"bg-transparent pl-4 shadow-none",children:(0,i.jsx)("h1",{className:"text-2xl font-semibold",children:null!==(e=v[t])&&void 0!==e?e:""})}),(0,i.jsxs)(m.j.Item,{className:"gap-2 bg-neutral-0 dark:bg-neutral-800",children:[n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.L,{variant:"v2"}),I?(0,i.jsx)(c.BuyMoreTokensModalCTA,{variant:"secondary-color",size:"xs",children:"Buy tokens"}):(0,i.jsxs)(a.PricingModalCTA,{size:"xs",variant:"secondary-color",className:"gap-2",children:[(0,i.jsx)(u.CE,{className:"size-5"})," Upgrade"]})]}):(0,i.jsx)(p.z,{variant:"secondary-color",size:"xs",asChild:!0,children:(0,i.jsx)(r.default,{href:o.H7.AUTH,children:"Sign in"})}),(0,i.jsx)(s.J,{size:"icon-sm"})]})]})},I=[o.H7.VIDEOS,o.H7.LIBRARY],x=()=>{let e=(0,l.usePathname)();return I.includes(e)?null:(0,i.jsx)(h,{})}},32994:function(e,t,n){"use strict";n.d(t,{j:function(){return m}});var i=n(57437),l=n(2265),o=n(24528);let r=e=>l.Children.count(e)>0,s=e=>{let{children:t,className:n}=e;return(0,i.jsx)("nav",{className:(0,o.cn)("relative grid h-12 max-h-12 min-h-12 w-full place-items-center",n),children:(0,i.jsx)("div",{className:"flex w-full flex-wrap items-center justify-between",children:t})})},a=e=>{let{children:t,className:n}=e;return r(t)?(0,i.jsx)("div",{className:(0,o.cn)("mr-auto flex items-center",n),children:t}):null},c=e=>{let{children:t,className:n}=e;return r(t)?(0,i.jsx)("div",{className:(0,o.cn)("absolute left-1/2 flex w-fit -translate-x-1/2 items-center",n),children:t}):null},d=e=>{let{children:t,className:n}=e;return r(t)?(0,i.jsx)("div",{className:(0,o.cn)("ml-auto flex items-center",n),children:t}):null},u=l.forwardRef((e,t)=>{let{className:n,children:l,...r}=e;return(0,i.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center gap-2 rounded-2xl bg-neutral-0 p-2 shadow-[0px_10px_20px_0px_rgba(0,_0,_0,_0.05)] transition-colors duration-500 dark:bg-neutral-900 dark:shadow-none",n),...r,children:l})});s.displayName="NewNavbarRoot",a.displayName="NewNavbarStart",c.displayName="NewNavbarCenter",d.displayName="NewNavbarEnd",u.displayName="NewNavbarItem";let m={Root:s,Start:a,Center:c,End:d,Item:u}},15905:function(e,t,n){"use strict";n.d(t,{U:function(){return r}});var i=n(52247),l=n(11141),o=n(70778);let r=new l.hE({baseURL:i.v.AUTH_API_URL,defaultHeadersGenerator:o.A})},45019:function(e,t,n){"use strict";n.d(t,{Wb:function(){return r},kS:function(){return a},tc:function(){return s}});var i=n(15905),l=n(81284);let o="/auth/other",r=async e=>{if(!e)throw Error("Refresh token is not available");return await l.l.post("/".concat(o,"/refresh/web"),{headers:{Authorization:"Bearer ".concat(e)}})},s=async e=>{let{data:{result:t}}=await i.U.get("".concat(o,"/user-info/"),{params:{token:e}},{throwOnError:!0});return t},a=async()=>{await i.U.post("".concat(o,"/logout"),null,{throwOnError:!0})}},81284:function(e,t,n){"use strict";n.d(t,{l:function(){return l}});var i=n(52247);let l=new(n(11141)).hE({baseURL:i.v.AUTH_API_URL})},9680:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var i=n(52247);let l=new(n(11141)).hE({baseURL:i.v.PAYMENT_API_URL}),o=async e=>{let{data:{result:t}}=await l.get("/subscription/user",{headers:e,cache:"no-cache"},{throwOnError:!0});return t}},18741:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});let i=(0,n(39099).Ue)()(e=>({changeToPlan:null,isImmediate:!1,setChangeToPlan:t=>e(()=>({changeToPlan:t})),setImmediate:t=>e(()=>({isImmediate:t})),resetChangeToPlan:()=>e(()=>({changeToPlan:null,isImmediate:!1})),resetChangePlanStoreStore:()=>e(()=>({changeToPlan:null,isImmediate:!1}))}))},5672:function(e,t,n){"use strict";n.d(t,{TI:function(){return o},cg:function(){return r},yn:function(){return l}});var i=n(67259);let l=(e,t)=>(0,i.Qt)(e,t),o=(0,i.hB)(l),r=(0,i.hB)(l)},67259:function(e,t,n){"use strict";n.d(t,{Qt:function(){return m},hB:function(){return f}});var i=n(14643),l=n(20920),o=n(39099),r=n(89291),s=n(22241),a=n(52247),c=n(47802);let d=(e,t)=>{if(!e||!t)return!1;let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>{let i=e[n],l=t[n];return i&&l&&(0,c.EE)(i,l)})},u=e=>(null==e?void 0:e.trim().toLowerCase())||"",m=(e,t)=>{var n,i,l,o;return!!e&&!!t&&d(e.tags,t.tags)&&e.aspect_ratio===t.aspect_ratio&&e.cfg===t.cfg&&e.high_res_results===t.high_res_results&&u(e.negative_prompt)===u(t.negative_prompt)&&u(e.prompt)===u(t.prompt)&&e.seed===t.seed&&(null===(n=e.style)||void 0===n?void 0:n.id)===(null===(i=t.style)||void 0===i?void 0:i.id)&&(null===(l=e.model)||void 0===l?void 0:l.id)===(null===(o=t.model)||void 0===o?void 0:o.id)},g=e=>{let{collections:t,selectedCollectionId:n}=e;return n?t.findIndex(e=>e.id===n):-1},f=e=>(0,o.Ue)()((0,s.n)((0,r.mW)((t,n)=>({collections:[],selectedImageId:void 0,selectedCollectionId:void 0,setSelectedCollection:e=>{t(t=>{let n=t.collections.find(t=>t.id===e.id);n&&(t.selectedCollectionId=n.id,t.selectedImageId=n.images[0].id)})},setSelectedImage:e=>{t(t=>{let n=t.collections.find(e=>e.id===t.selectedCollectionId);n&&n.images.find(t=>t.id===e)&&(t.selectedImageId=e)})},addImagesToCollection:(o,r,s)=>{t(t=>{let a=g(n()),c=(0,i.cA)(r),d=o.map(e=>({id:(0,l.Z)(),...e,...s?{originalSrc:s.src,originalImageId:s.id,isVariation:!!s}:{}}));if(-1===a||!t.collections[a]){let e=(0,i.cA)({id:(0,l.Z)(),images:d,settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(...d);else{let e=(0,i.P2)({id:(0,l.Z)(),images:d,settings:r});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}})},addImageToCollectionWithLoading:(o,r)=>{let s=(0,l.Z)();return t(t=>{let a=g(n()),c=(0,i.cA)(o),d={id:s,src:"",...r?{originalSrc:r.src,originalImageId:r.id,isVariation:!!r}:{},isLoading:!0};if(-1===a||!t.collections[a]){let e=(0,i.cA)({id:(0,l.Z)(),images:[d],settings:o});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id;return}let u=t.collections.findIndex(t=>e(t.settings,c));if(-1!==u)t.collections[u].images.unshift(d);else{let e=(0,i.P2)({id:(0,l.Z)(),images:[d],settings:o});t.collections.unshift(e),t.selectedCollectionId=e.id,t.selectedImageId=e.images[0].id}}),{imageId:s,collectionId:""}},createCollectionWithSettings:e=>{let n=(0,l.Z)();return t(t=>{let l=(0,i.P2)({id:n,images:[],settings:e});t.collections.unshift(l)}),{collectionId:n}},addImageToGivenCollectionWithLoading:(e,n)=>{let i=(0,l.Z)();return t(t=>{let l={id:i,src:"",...n?{originalSrc:n.src,originalImageId:n.id,isVariation:!!n}:{},isLoading:!0},o=g({collections:t.collections,selectedCollectionId:e});-1!==o&&t.collections[o]&&t.collections[o].images.unshift(l)}),{imageId:i,collectionId:""}},deleteGivenCollection(e){t(t=>{let n=g({collections:t.collections,selectedCollectionId:e});-1!==n&&t.collections[n]&&t.collections.splice(n,1)})},completeImageGenerationLoadingOnGivenCollection(e){let{image:n,imageId:i,collectionId:l}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:l});if(-1===t||!e.collections[t])return;let o=e.collections[t].images.find(e=>e.id===i);o&&(o.isLoading=!1,o.src=n.src)})},deleteLoadingImageFromGivenCollection:e=>{let{imageId:n,collectionId:i}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:i});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||e.collections.splice(t,1))})},setImageLoadingOnGivenCollection:(e,n,i)=>{t(t=>{let l=g({collections:t.collections,selectedCollectionId:i});if(-1===l||!t.collections[l])return;let o=t.collections[l].images.find(t=>t.id===e);o&&(o.isLoading=n)})},setImageUpscaleOnGivenCollection:(e,n,i,l)=>{t(t=>{let o=g({collections:t.collections,selectedCollectionId:l});if(-1===o||!t.collections[o])return;let r=t.collections[o].images.find(t=>t.id===e);r&&(r.upscaleSrc=n,r.isUpscaled=i)})},deleteImageFromGivenCollection:e=>{let{imageId:n,collectionId:i}=e;t(e=>{let t=g({collections:e.collections,selectedCollectionId:i});-1!==t&&e.collections[t]&&(e.collections[t].images=e.collections[t].images.filter(e=>e.id!==n),e.collections[t].images.length>0||(e.collections=e.collections.filter(n=>{var i;return n.id!==(null===(i=e.collections[t])||void 0===i?void 0:i.id)})))})},setFocusOfOriginalImageOnGivenCollection:(e,n,i)=>{t(t=>{let l=g({collections:t.collections,selectedCollectionId:i});if(-1===l||!t.collections[l])return;let o=t.collections[l].images.find(t=>t.id===e);o&&(o.isFocused=n)})},completeImageGenerationLoading(e){let{image:i,imageId:l}=e;t(e=>{e.collections.forEach(e=>{let t=e.images.find(e=>e.id===l);t&&(t.isLoading=!1,t.src=i.src,i.randomSeed&&(t.randomSeed=i.randomSeed))});let t=g(n());if(-1===t)return;let o=e.collections[t].images.find(e=>e.id===l);o&&(o.src=i.src,o.isLoading=!1,i.randomSeed&&(o.randomSeed=i.randomSeed))})},deleteLoadingImage(e){t(t=>{var i;let l=g(n());-1!==l&&(t.collections[l].images=t.collections[l].images.filter(t=>t.id!==e),t.collections[l].images.length>0||(t.collections.splice(l,1),t.selectedCollectionId=null===(i=t.collections[0])||void 0===i?void 0:i.id))})},resetCollectionStore:()=>{t(e=>{e.collections=[],e.selectedCollectionId=void 0,e.selectedImageId=void 0})},setImageLoading:(e,i)=>{t(t=>{t.collections.forEach(t=>{let n=t.images.find(t=>t.id===e);n&&(n.isLoading=i)});let l=g(n());if(-1===l)return;let o=t.collections[l].images.find(t=>t.id===e);o&&(o.isLoading=i)})},setImagesUpscale:(e,i,l)=>{t(t=>{t.collections.forEach(t=>{t.images.forEach(t=>{e===t.id&&(t.upscaleSrc=i,t.isUpscaled=l)})});let o=g(n());-1!==o&&t.collections[o].images.forEach(t=>{e===t.id&&(t.upscaleSrc=i,t.isUpscaled=l)})})},deleteImage:e=>{t(t=>{var i;t.collections.forEach(t=>{t.images=t.images.filter(t=>t.id!==e)}),e===t.selectedImageId&&(t.selectedImageId=void 0);let l=g(n());-1!==l&&(t.collections[l].images=t.collections[l].images.filter(t=>t.id!==e),t.collections[l].images.length>0||(t.collections=t.collections.filter(e=>{var n;return e.id!==(null===(n=t.collections[l])||void 0===n?void 0:n.id)}),t.selectedCollectionId=null===(i=t.collections[0])||void 0===i?void 0:i.id))})},setFocusOfOriginalImage:(e,i)=>{t(t=>{let l=g(n());if(-1===l)return;let o=t.collections[l].images.find(t=>t.id===e);o&&(o.isFocused=i)})}}),{enabled:!a.v.IS_PROD_DEPLOYMENT&&(0,c.Ep)().isBrowser})))},18617:function(e,t,n){"use strict";n.d(t,{Hv:function(){return r},IJ:function(){return o},Tp:function(){return l}});var i=n(67259);let l=(e,t)=>(null==e?void 0:e.image)===(null==t?void 0:t.image)&&(null==e?void 0:e.control)===(null==t?void 0:t.control)&&(null==e?void 0:e.strength)===(null==t?void 0:t.strength)&&(0,i.Qt)(e,t),o=(0,i.hB)(l),r=(0,i.hB)(l)},82074:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var i=n(39099),l=n(89291);let o=e=>({...e,image:null,croppedImage:null}),r=(0,i.Ue)()((0,l.tJ)(e=>({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null,persistFromTextSetting:t=>e({persistedFromTextSetting:t}),persistImageRemixSetting:t=>{let{image:n,imageCroppedFrom:i,...l}=t;return e({persistedImageRemixSetting:l})},persistTextToImageSetting:t=>{var n;return e({persistedTextToImageSetting:{...t,prompt:"",image_guidance:{...t.image_guidance,...o(t.image_guidance),base:{...(null===(n=t.image_guidance)||void 0===n?void 0:n.base)||{},image_caption:""}}}})},resetPersistToolSettingStore:()=>e({persistedFromTextSetting:null,persistedImageRemixSetting:null,persistedTextToImageSetting:null})}),{name:"persist-tool-setting",version:2}))},36805:function(e,t,n){"use strict";n.d(t,{gi:function(){return d},vK:function(){return u},Pl:function(){return v},J5:function(){return p},Ml:function(){return f},Lm:function(){return g}});var i=n(44785);n(12314);var l=n(52247),o=n(2053);n(52479);var r=n(1576),s=n(63218),a=n(73359),c=n(45019);n(81284),n(9680);let d=e=>{let{email:t="",isCompleteRedirectUrl:n=!1,open:i,redirect:o="",slug:r}=e,s=new URL("".concat(l.v.VYRO_AUTH_URL,"/").concat(r)),c=n?o:new URL(o||window.location.pathname,window.location.origin);s.searchParams.append(a.u.REDIRECT,c.toString()),s.searchParams.append(a.u.PRODUCT,"imagine"),i&&s.searchParams.append(a.u.OPEN,i),t&&s.searchParams.append(a.u.EMAIL,t),window.location.href=s.toString()},u=(e,t)=>{let n=new URL(s.H7.STRIPE_REDIRECT,window.location.origin),i=encodeURIComponent(e),l=encodeURIComponent(t.toString());n.searchParams.append(a.u.PRICE_ID,i),n.searchParams.append(a.u.QUANTITY,l),d({slug:o.d.SIGN_IN,redirect:n.toString(),isCompleteRedirectUrl:!0})},m=(e,t)=>{if(!t||!e)return!0;let n=Number(t);return new Date().getTime()>n},g=(e,t)=>{let n=new Date(Date.now()+216e5);e&&t.set(r.R.SESSION_ID,e,{expires:n})},f=e=>{let{token:t,refreshToken:n,tokenExpiresIn:i,cookies:l}=e,o=new Date(Date.now()+1e3*i),s=new Date(Date.now()+6048e5);n&&l.set(r.R.REFRESH_TOKEN,n,{expires:s}),t&&(l.set(r.R.TOKEN,t,{expires:o}),l.set(r.R.TOKEN_EXPIRES_IN,i.toString(),{expires:o}))},p=(e,t)=>{let n=t?t=>{var n;return null==e?void 0:null===(n=e.delete)||void 0===n?void 0:n.call(e,t)}:e=>i.Z.remove(e);n(r.R.TOKEN),n(r.R.REFRESH_TOKEN),n(r.R.TOKEN_EXPIRES_IN),n(r.R.SESSION_ID)},v=async(e,t,n)=>{if(!m(e,n))return;let i=await (0,c.Wb)(t);if("success"===i.code)return i.data.result;throw Error(i.error.message)}}},function(e){e.O(0,[4705,3547,231,2608,9026,6533,3684,1606,5018,9659,5510,7071,3393,1949,2314,9622,9219,1816,3495,842,8183,6976,2971,7023,1744],function(){return e(e.s=91428)}),_N_E=e.O()}]);